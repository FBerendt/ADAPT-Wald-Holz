import{r as h,a as Es,R as x,_ as Jt,b as Is,c as ks}from"./index-439ccdc9.js";var As=Object.defineProperty,Cs=(e,t)=>{for(var n in t)As(e,n,{get:t[n],enumerable:!0})},J={};Cs(J,{assign:()=>Os,colors:()=>le,createStringInterpolator:()=>In,skipAnimation:()=>Gr,to:()=>qr,willAdvance:()=>kn});var yn=st(),k=e=>it(e,yn),bn=st();k.write=e=>it(e,bn);var Ct=st();k.onStart=e=>it(e,Ct);var _n=st();k.onFrame=e=>it(e,_n);var wn=st();k.onFinish=e=>it(e,wn);var Pe=[];k.setTimeout=(e,t)=>{const n=k.now()+t,r=()=>{const s=Pe.findIndex(o=>o.cancel==r);~s&&Pe.splice(s,1),ce-=~s?1:0},i={time:n,handler:e,cancel:r};return Pe.splice(jr(n),0,i),ce+=1,Wr(),i};var jr=e=>~(~Pe.findIndex(t=>t.time>e)||~Pe.length);k.cancel=e=>{Ct.delete(e),_n.delete(e),wn.delete(e),yn.delete(e),bn.delete(e)};k.sync=e=>{en=!0,k.batchedUpdates(e),en=!1};k.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,k.onStart(n)}return r.handler=e,r.cancel=()=>{Ct.delete(n),t=null},r};var Sn=typeof window<"u"?window.requestAnimationFrame:()=>{};k.use=e=>Sn=e;k.now=typeof performance<"u"?()=>performance.now():Date.now;k.batchedUpdates=e=>e();k.catch=console.error;k.frameLoop="always";k.advance=()=>{k.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Hr()};var ue=-1,ce=0,en=!1;function it(e,t){en?(t.delete(e),e(0)):(t.add(e),Wr())}function Wr(){ue<0&&(ue=0,k.frameLoop!=="demand"&&Sn($r))}function Ps(){ue=-1}function $r(){~ue&&(Sn($r),k.batchedUpdates(Hr))}function Hr(){const e=ue;ue=k.now();const t=jr(ue);if(t&&(zr(Pe.splice(0,t),n=>n.handler()),ce-=t),!ce){Ps();return}Ct.flush(),yn.flush(e?Math.min(64,ue-e):16.667),_n.flush(),bn.flush(),wn.flush()}function st(){let e=new Set,t=e;return{add(n){ce+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return ce-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,ce-=t.size,zr(t,r=>r(n)&&e.add(r)),ce+=e.size,t=e)}}}function zr(e,t){e.forEach(n=>{try{t(n)}catch(r){k.catch(r)}})}function tn(){}var Ts=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),p={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function oe(e,t){if(p.arr(e)){if(!p.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var C=(e,t)=>e.forEach(t);function ne(e,t,n){if(p.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var H=e=>p.und(e)?[]:p.arr(e)?e:[e];function We(e,t){if(e.size){const n=Array.from(e);e.clear(),C(n,t)}}var je=(e,...t)=>We(e,n=>n(...t)),En=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),In,qr,le=null,Gr=!1,kn=tn,Os=e=>{e.to&&(qr=e.to),e.now&&(k.now=e.now),e.colors!==void 0&&(le=e.colors),e.skipAnimation!=null&&(Gr=e.skipAnimation),e.createStringInterpolator&&(In=e.createStringInterpolator),e.requestAnimationFrame&&k.use(e.requestAnimationFrame),e.batchedUpdates&&(k.batchedUpdates=e.batchedUpdates),e.willAdvance&&(kn=e.willAdvance),e.frameLoop&&(k.frameLoop=e.frameLoop)},$e=new Set,Y=[],Vt=[],bt=0,Pt={get idle(){return!$e.size&&!Y.length},start(e){bt>e.priority?($e.add(e),k.onStart(xs)):(Yr(e),k(nn))},advance:nn,sort(e){if(bt)k.onFrame(()=>Pt.sort(e));else{const t=Y.indexOf(e);~t&&(Y.splice(t,1),Kr(e))}},clear(){Y=[],$e.clear()}};function xs(){$e.forEach(Yr),$e.clear(),k(nn)}function Yr(e){Y.includes(e)||Kr(e)}function Kr(e){Y.splice(Ms(Y,t=>t.priority>e.priority),0,e)}function nn(e){const t=Vt;for(let n=0;n<Y.length;n++){const r=Y[n];bt=r.priority,r.idle||(kn(r),r.advance(e),r.idle||t.push(r))}return bt=0,Vt=Y,Vt.length=0,Y=t,Y.length>0}function Ms(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Rs=(e,t,n)=>Math.min(Math.max(n,e),t),Fs={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Z="[-+]?\\d*\\.?\\d+",_t=Z+"%";function Tt(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Ds=new RegExp("rgb"+Tt(Z,Z,Z)),Ls=new RegExp("rgba"+Tt(Z,Z,Z,Z)),Vs=new RegExp("hsl"+Tt(Z,_t,_t)),Ns=new RegExp("hsla"+Tt(Z,_t,_t,Z)),Bs=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Us=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,js=/^#([0-9a-fA-F]{6})$/,Ws=/^#([0-9a-fA-F]{8})$/;function $s(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=js.exec(e))?parseInt(t[1]+"ff",16)>>>0:le&&le[e]!==void 0?le[e]:(t=Ds.exec(e))?(we(t[1])<<24|we(t[2])<<16|we(t[3])<<8|255)>>>0:(t=Ls.exec(e))?(we(t[1])<<24|we(t[2])<<16|we(t[3])<<8|Yn(t[4]))>>>0:(t=Bs.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Ws.exec(e))?parseInt(t[1],16)>>>0:(t=Us.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Vs.exec(e))?(qn(Gn(t[1]),ct(t[2]),ct(t[3]))|255)>>>0:(t=Ns.exec(e))?(qn(Gn(t[1]),ct(t[2]),ct(t[3]))|Yn(t[4]))>>>0:null}function Nt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qn(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=Nt(i,r,e+1/3),o=Nt(i,r,e),a=Nt(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function we(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Gn(e){return(parseFloat(e)%360+360)%360/360}function Yn(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function ct(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Kn(e){let t=$s(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var qe=(e,t,n)=>{if(p.fun(e))return e;if(p.arr(e))return qe({range:e,output:t,extrapolate:n});if(p.str(e.output[0]))return In(e);const r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(u=>u);return u=>{const l=zs(u,s);return Hs(u,s[l],s[l+1],i[l],i[l+1],c,o,a,r.map)}};function Hs(e,t,n,r,i,s,o,a,c){let u=c?c(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function zs(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var qs=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return Rs(0,1,i/e)},wt=1.70158,lt=wt*1.525,Qn=wt+1,Xn=2*Math.PI/3,Zn=2*Math.PI/4.5,ft=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Gs={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Qn*e*e*e-wt*e*e,easeOutBack:e=>1+Qn*Math.pow(e-1,3)+wt*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((lt+1)*2*e-lt)/2:(Math.pow(2*e-2,2)*((lt+1)*(e*2-2)+lt)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*Xn),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*Xn)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Zn))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Zn)/2+1,easeInBounce:e=>1-ft(1-e),easeOutBounce:ft,easeInOutBounce:e=>e<.5?(1-ft(1-2*e))/2:(1+ft(2*e-1))/2,steps:qs},Ge=Symbol.for("FluidValue.get"),Re=Symbol.for("FluidValue.observers"),q=e=>!!(e&&e[Ge]),j=e=>e&&e[Ge]?e[Ge]():e,Jn=e=>e[Re]||null;function Ys(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Ye(e,t){const n=e[Re];n&&n.forEach(r=>{Ys(r,t)})}var Qr=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Ks(this,e)}},Ks=(e,t)=>Xr(e,Ge,t);function Le(e,t){if(e[Ge]){let n=e[Re];n||Xr(e,Re,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ke(e,t){const n=e[Re];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Re]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Xr=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),vt=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Qs=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,er=new RegExp(`(${vt.source})(%|[a-z]+)`,"i"),Xs=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ot=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Zr=e=>{const[t,n]=Zs(e);if(!t||En())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&Ot.test(n))return Zr(n);if(n)return n}return e},Zs=e=>{const t=Ot.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Bt,Js=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Jr=e=>{Bt||(Bt=le?new RegExp(`(${Object.keys(le).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>j(s).replace(Ot,Zr).replace(Qs,Kn).replace(Bt,Kn)),n=t.map(s=>s.match(vt).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>qe({...e,output:s}));return s=>{var c;const o=!er.test(t[0])&&((c=t.find(u=>er.test(u)))==null?void 0:c.replace(vt,""));let a=0;return t[0].replace(vt,()=>`${i[a++](s)}${o||""}`).replace(Xs,Js)}},An="react-spring: ",ei=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${An}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},eo=ei(console.warn);function to(){eo(`${An}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var no=ei(console.warn);function ro(){no(`${An}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function xt(e){return p.str(e)&&(e[0]=="#"||/\d/.test(e)||!En()&&Ot.test(e)||e in(le||{}))}var Cn=En()?h.useEffect:h.useLayoutEffect,io=()=>{const e=h.useRef(!1);return Cn(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function ti(){const e=h.useState()[1],t=io();return()=>{t.current&&e(Math.random())}}function so(e,t){const[n]=h.useState(()=>({inputs:t,result:e()})),r=h.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&oo(t,s.inputs)||(s={inputs:t,result:e()}):s=n,h.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function oo(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var ni=e=>h.useEffect(e,ao),ao=[];function tr(e){const t=h.useRef();return h.useEffect(()=>{t.current=e}),t.current}var Qe=Symbol.for("Animated:node"),uo=e=>!!e&&e[Qe]===e,ee=e=>e&&e[Qe],Pn=(e,t)=>Ts(e,Qe,t),Mt=e=>e&&e[Qe]&&e[Qe].getPayload(),ri=class{constructor(){Pn(this,this)}getPayload(){return this.payload||[]}},ot=class extends ri{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,p.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new ot(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return p.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,p.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Xe=class extends ot{constructor(e){super(0),this._string=null,this._toString=qe({output:[e,e]})}static create(e){return new Xe(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(p.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=qe({output:[this.getValue(),e]})),this._value=0,super.reset()}},St={dependencies:null},Rt=class extends ri{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ne(this.source,(n,r)=>{uo(n)?t[r]=n.getValue(e):q(n)?t[r]=j(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&C(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ne(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){St.dependencies&&q(e)&&St.dependencies.add(e);const t=Mt(e);t&&C(t,n=>this.add(n))}},ii=class extends Rt{constructor(e){super(e)}static create(e){return new ii(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(co)),!0)}};function co(e){return(xt(e)?Xe:ot).create(e)}function rn(e){const t=ee(e);return t?t.constructor:p.arr(e)?ii:xt(e)?Xe:ot}var nr=(e,t)=>{const n=!p.fun(e)||e.prototype&&e.prototype.isReactComponent;return h.forwardRef((r,i)=>{const s=h.useRef(null),o=n&&h.useCallback(g=>{s.current=ho(i,g)},[i]),[a,c]=fo(r,t),u=ti(),l=()=>{const g=s.current;if(n&&!g)return;(g?t.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},f=new lo(l,c),v=h.useRef();Cn(()=>(v.current=f,C(c,g=>Le(g,f)),()=>{v.current&&(C(v.current.deps,g=>Ke(g,v.current)),k.cancel(v.current.update))})),h.useEffect(l,[]),ni(()=>()=>{const g=v.current;C(g.deps,d=>Ke(d,g))});const b=t.getComponentProps(a.getValue());return h.createElement(e,{...b,ref:o})})},lo=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&k.write(this.update)}};function fo(e,t){const n=new Set;return St.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Rt(e),St.dependencies=null,[e,n]}function ho(e,t){return e&&(p.fun(e)?e(t):e.current=t),t}var rr=Symbol.for("AnimatedComponent"),vo=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new Rt(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=ir(o)||"Anonymous";return p.str(o)?o=s[o]||(s[o]=nr(o,i)):o=o[rr]||(o[rr]=nr(o,i)),o.displayName=`Animated(${a})`,o};return ne(e,(o,a)=>{p.arr(e)&&(a=ir(o)),s[a]=s(o)}),{animated:s}},ir=e=>p.str(e)?e:e&&p.str(e.displayName)?e.displayName:p.fun(e)&&e.name||null;function he(e,...t){return p.fun(e)?e(...t):e}var He=(e,t)=>e===!0||!!(t&&e&&(p.fun(e)?e(t):H(e).includes(t))),si=(e,t)=>p.obj(e)?t&&e[t]:e,oi=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,mo=e=>e,Tn=(e,t=mo)=>{let n=po;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);p.und(s)||(r[i]=s)}return r},po=["config","onProps","onStart","onChange","onPause","onResume","onRest"],go={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function yo(e){const t={};let n=0;if(ne(e,(r,i)=>{go[i]||(t[i]=r,n++)}),n)return t}function ai(e){const t=yo(e);if(t){const n={to:t};return ne(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function Ze(e){return e=j(e),p.arr(e)?e.map(Ze):xt(e)?J.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function bo(e){for(const t in e)return!0;return!1}function sn(e){return p.fun(e)||p.arr(e)&&p.obj(e[0])}function _o(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function wo(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var So={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},on={...So.default,mass:1,damping:1,easing:Gs.linear,clamp:!1},Eo=class{constructor(){this.velocity=0,Object.assign(this,on)}};function Io(e,t,n){n&&(n={...n},sr(n,t),t={...n,...t}),sr(e,t),Object.assign(e,t);for(const o in on)e[o]==null&&(e[o]=on[o]);let{frequency:r,damping:i}=e;const{mass:s}=e;return p.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function sr(e,t){if(!p.und(t.decay))e.duration=void 0;else{const n=!p.und(t.tension)||!p.und(t.friction);(n||!p.und(t.frequency)||!p.und(t.damping)||!p.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var or=[],ko=class{constructor(){this.changed=!1,this.values=or,this.toValues=null,this.fromValues=or,this.config=new Eo,this.immediate=!1}};function ui(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let c,u,l=He(n.cancel??(r==null?void 0:r.cancel),t);if(l)b();else{p.und(n.pause)||(i.paused=He(n.pause,t));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||He(g,t)),c=he(n.delay||0,t),g?(i.resumeQueue.add(v),s.pause()):(s.resume(),v())}function f(){i.resumeQueue.add(v),i.timeouts.delete(u),u.cancel(),c=u.time-k.now()}function v(){c>0&&!J.skipAnimation?(i.delayed=!0,u=k.setTimeout(b,c),i.pauseQueue.add(f),i.timeouts.add(u)):b()}function b(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(u),e<=(i.cancelId||0)&&(l=!0);try{s.start({...n,callId:e,cancel:l},o)}catch(g){a(g)}}})}var On=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Te(e.get()):t.every(n=>n.noop)?ci(e.get()):X(e.get(),t.every(n=>n.finished)),ci=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),X=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Te=e=>({value:e,cancelled:!0,finished:!1});function li(e,t,n,r){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:c}=n;return!s&&e===a&&!t.reset?c:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const u=Tn(t,(m,y)=>y==="onRest"?void 0:m);let l,f;const v=new Promise((m,y)=>(l=m,f=y)),b=m=>{const y=i<=(n.cancelId||0)&&Te(r)||i!==n.asyncId&&X(r,!1);if(y)throw m.result=y,f(m),m},g=(m,y)=>{const w=new ar,_=new ur;return(async()=>{if(J.skipAnimation)throw Je(n),_.result=X(r,!1),f(_),_;b(w);const E=p.obj(m)?{...m}:{...y,to:m};E.parentId=i,ne(u,(P,O)=>{p.und(E[O])&&(E[O]=P)});const I=await r.start(E);return b(w),n.paused&&await new Promise(P=>{n.resumeQueue.add(P)}),I})()};let d;if(J.skipAnimation)return Je(n),X(r,!1);try{let m;p.arr(e)?m=(async y=>{for(const w of y)await g(w)})(e):m=Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([m.then(l),v]),d=X(r.get(),!0,!1)}catch(m){if(m instanceof ar)d=m.result;else if(m instanceof ur)d=m.result;else throw m}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?c:void 0)}return p.fun(o)&&k.batchedUpdates(()=>{o(d,r,r.item)}),d})()}function Je(e,t){We(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var ar=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},ur=class extends Error{constructor(){super("SkipAnimationSignal")}},an=e=>e instanceof xn,Ao=1,xn=class extends Qr{constructor(){super(...arguments),this.id=Ao++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ee(this);return e&&e.getValue()}to(...e){return J.to(this,e)}interpolate(...e){return to(),J.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Ye(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Pt.sort(this),Ye(this,{type:"priority",parent:this,priority:e})}},me=Symbol.for("SpringPhase"),fi=1,un=2,cn=4,Ut=e=>(e[me]&fi)>0,ae=e=>(e[me]&un)>0,Ve=e=>(e[me]&cn)>0,cr=(e,t)=>t?e[me]|=un|fi:e[me]&=~un,lr=(e,t)=>t?e[me]|=cn:e[me]&=~cn,Co=class extends xn{constructor(e,t){if(super(),this.animation=new ko,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!p.und(e)||!p.und(t)){const n=p.obj(e)?{...e}:{...t,from:e};p.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(ae(this)||this._state.asyncTo)||Ve(this)}get goal(){return j(this.animation.to)}get velocity(){const e=ee(this);return e instanceof ot?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Ut(this)}get isAnimating(){return ae(this)}get isPaused(){return Ve(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=Mt(r.to);!o&&q(r.to)&&(i=H(j(r.to))),r.values.forEach((u,l)=>{if(u.done)return;const f=u.constructor==Xe?1:o?o[l].lastPosition:i[l];let v=r.immediate,b=f;if(!v){if(b=u.lastPosition,s.tension<=0){u.done=!0;return}let g=u.elapsedTime+=e;const d=r.fromValues[l],m=u.v0!=null?u.v0:u.v0=p.arr(s.velocity)?s.velocity[l]:s.velocity;let y;const w=s.precision||(d==f?.005:Math.min(1,Math.abs(f-d)*.001));if(p.und(s.duration))if(s.decay){const _=s.decay===!0?.998:s.decay,E=Math.exp(-(1-_)*g);b=d+m/(1-_)*(1-E),v=Math.abs(u.lastPosition-b)<=w,y=m*E}else{y=u.lastVelocity==null?m:u.lastVelocity;const _=s.restVelocity||w/10,E=s.clamp?0:s.bounce,I=!p.und(E),P=d==f?u.v0>0:d<f;let O,W=!1;const L=1,ie=Math.ceil(e/L);for(let S=0;S<ie&&(O=Math.abs(y)>_,!(!O&&(v=Math.abs(f-b)<=w,v)));++S){I&&(W=b==f||b>f==P,W&&(y=-y*E,b=f));const A=-s.tension*1e-6*(b-f),T=-s.friction*.001*y,F=(A+T)/s.mass;y=y+F*L,b=b+y*L}}else{let _=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,g=u.elapsedTime+=e)),_=(s.progress||0)+g/this._memoizedDuration,_=_>1?1:_<0?0:_,u.durationProgress=_),b=d+s.easing(_)*(f-d),y=(b-u.lastPosition)/e,v=_==1}u.lastVelocity=y,Number.isNaN(b)&&(console.warn("Got NaN while animating:",this),v=!0)}o&&!o[l].done&&(v=!1),v?u.done=!0:t=!1,u.setValue(b,s.round)&&(n=!0)});const a=ee(this),c=a.getValue();if(t){const u=j(r.to);(c!==u||n)&&!s.decay?(a.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(e){return k.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ae(this)){const{to:e,config:t}=this.animation;k.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return p.und(e)?(n=this.queue||[],this.queue=[]):n=[p.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>On(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Je(this._state,e&&this._lastCallId),k.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=p.obj(n)?n[t]:n,(n==null||sn(n))&&(n=void 0),r=p.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return Ut(this)||(e.reverse&&([n,r]=[r,n]),r=j(r),p.und(r)?ee(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Tn(e,(o,a)=>/^on/.test(a)?si(o,n):o)),dr(this,e,"onProps"),Be(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return ui(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{Ve(this)||(lr(this,!0),je(s.pauseQueue),Be(this,"onPause",X(this,Ne(this,this.animation.to)),this))},resume:()=>{Ve(this)&&(lr(this,!1),ae(this)&&this._resume(),je(s.resumeQueue),Be(this,"onResume",X(this,Ne(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=di(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Te(this));const r=!p.und(e.to),i=!p.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Te(this));const{key:s,defaultProps:o,animation:a}=this,{to:c,from:u}=a;let{to:l=c,from:f=u}=e;i&&!r&&(!t.default||p.und(l))&&(l=f),t.reverse&&([l,f]=[f,l]);const v=!oe(f,u);v&&(a.from=f),f=j(f);const b=!oe(l,c);b&&this._focus(l);const g=sn(t.to),{config:d}=a,{decay:m,velocity:y}=d;(r||i)&&(d.velocity=0),t.config&&!g&&Io(d,he(t.config,s),t.config!==o.config?he(o.config,s):void 0);let w=ee(this);if(!w||p.und(l))return n(X(this,!0));const _=p.und(t.reset)?i&&!t.default:!p.und(f)&&He(t.reset,s),E=_?f:this.get(),I=Ze(l),P=p.num(I)||p.arr(I)||xt(I),O=!g&&(!P||He(o.immediate||t.immediate,s));if(b){const S=rn(l);if(S!==w.constructor)if(O)w=this._set(I);else throw Error(`Cannot animate between ${w.constructor.name} and ${S.name}, as the "to" prop suggests`)}const W=w.constructor;let L=q(l),ie=!1;if(!L){const S=_||!Ut(this)&&v;(b||S)&&(ie=oe(Ze(E),I),L=!ie),(!oe(a.immediate,O)&&!O||!oe(d.decay,m)||!oe(d.velocity,y))&&(L=!0)}if(ie&&ae(this)&&(a.changed&&!_?L=!0:L||this._stop(c)),!g&&((L||q(c))&&(a.values=w.getPayload(),a.toValues=q(l)?null:W==Xe?[1]:H(I)),a.immediate!=O&&(a.immediate=O,!O&&!_&&this._set(c)),L)){const{onRest:S}=a;C(To,T=>dr(this,t,T));const A=X(this,Ne(this,c));je(this._pendingCalls,A),this._pendingCalls.add(n),a.changed&&k.batchedUpdates(()=>{var T;a.changed=!_,S==null||S(A,this),_?he(o.onRest,A):(T=a.onStart)==null||T.call(a,A,this)})}_&&this._set(E),g?n(li(t.to,t,this._state,this)):L?this._start():ae(this)&&!b?this._pendingCalls.add(n):n(ci(E))}_focus(e){const t=this.animation;e!==t.to&&(Jn(this)&&this._detach(),t.to=e,Jn(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;q(t)&&(Le(t,this),an(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;q(e)&&Ke(e,this)}_set(e,t=!0){const n=j(e);if(!p.und(n)){const r=ee(this);if(!r||!oe(n,r.getValue())){const i=rn(n);!r||r.constructor!=i?Pn(this,i.create(n)):r.setValue(n),r&&k.batchedUpdates(()=>{this._onChange(n,t)})}}return ee(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Be(this,"onStart",X(this,Ne(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),he(this.animation.onChange,e,this)),he(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ee(this).reset(j(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),ae(this)||(cr(this,!0),Ve(this)||this._resume())}_resume(){J.skipAnimation?this.finish():Pt.start(this)}_stop(e,t){if(ae(this)){cr(this,!1);const n=this.animation;C(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ye(this,{type:"idle",parent:this});const r=t?Te(this.get()):X(this.get(),Ne(this,e??n.to));je(this._pendingCalls,r),n.changed&&(n.changed=!1,Be(this,"onRest",r,this))}}};function Ne(e,t){const n=Ze(t),r=Ze(e.get());return oe(r,n)}function di(e,t=e.loop,n=e.to){const r=he(t);if(r){const i=r!==!0&&ai(r),s=(i||e).reverse,o=!i||i.reset;return et({...e,loop:t,default:!1,pause:void 0,to:!s||sn(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function et(e){const{to:t,from:n}=e=ai(e),r=new Set;return p.obj(t)&&fr(t,r),p.obj(n)&&fr(n,r),e.keys=r.size?Array.from(r):null,e}function Po(e){const t=et(e);return p.und(t.default)&&(t.default=Tn(t)),t}function fr(e,t){ne(e,(n,r)=>n!=null&&t.add(r))}var To=["onStart","onRest","onChange","onPause","onResume"];function dr(e,t,n){e.animation[n]=t[n]!==oi(t,n)?si(t[n],e.key):void 0}function Be(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var Oo=["onStart","onChange","onRest"],xo=1,Mo=class{constructor(t,n){this.id=xo++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,r)=>t[r]=n.get()),t}set(t){for(const n in t){const r=t[n];p.und(r)||this.springs[n].set(r)}}update(t){return t&&this.queue.push(et(t)),this}start(t){let{queue:n}=this;return t?n=H(t).map(et):this.queue=[],this._flush?this._flush(this,n):(gi(this,n),ln(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const r=this.springs;C(H(n),i=>r[i].stop(!!t))}else Je(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(p.und(t))this.start({pause:!0});else{const n=this.springs;C(H(t),r=>n[r].pause())}return this}resume(t){if(p.und(t))this.start({pause:!1});else{const n=this.springs;C(H(t),r=>n[r].resume())}return this}each(t){ne(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,We(t,([c,u])=>{u.value=this.get(),c(u,this,this._item)}));const o=!i&&this._started,a=s||o&&r.size?this.get():null;s&&n.size&&We(n,([c,u])=>{u.value=a,c(u,this,this._item)}),o&&(this._started=!1,We(r,([c,u])=>{u.value=a,c(u,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;k.onFrame(this._onFrame)}};function ln(e,t){return Promise.all(t.map(n=>hi(e,n))).then(n=>On(e,n))}async function hi(e,t,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:c}=t,u=p.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const l=p.arr(i)||p.fun(i)?i:void 0;l?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):C(Oo,d=>{const m=t[d];if(p.fun(m)){const y=e._events[d];t[d]=({finished:w,cancelled:_})=>{const E=y.get(m);E?(w||(E.finished=!1),_&&(E.cancelled=!0)):y.set(m,{value:null,finished:w||!1,cancelled:_||!1})},u&&(u[d]=t[d])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,je(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const v=(r||Object.keys(e.springs)).map(d=>e.springs[d].start(t)),b=t.cancel===!0||oi(t,"cancel")===!0;(l||b&&f.asyncId)&&v.push(ui(++e._lastAsyncId,{props:t,state:f,actions:{pause:tn,resume:tn,start(d,m){b?(Je(f,e._lastAsyncId),m(Te(e))):(d.onRest=a,m(li(l,d,f,e)))}}})),f.paused&&await new Promise(d=>{f.resumeQueue.add(d)});const g=On(e,await Promise.all(v));if(o&&g.finished&&!(n&&g.noop)){const d=di(t,o,i);if(d)return gi(e,[d]),hi(e,d,!0)}return c&&k.batchedUpdates(()=>c(g,e,e.item)),g}function hr(e,t){const n={...e.springs};return t&&C(H(t),r=>{p.und(r.keys)&&(r=et(r)),p.obj(r.to)||(r={...r,to:void 0}),pi(n,r,i=>mi(i))}),vi(e,n),n}function vi(e,t){ne(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Le(n,e))})}function mi(e,t){const n=new Co;return n.key=e,t&&Le(n,t),n}function pi(e,t,n){t.keys&&C(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function gi(e,t){C(t,n=>{pi(e.springs,n,r=>mi(r,e))})}var Ft=({children:e,...t})=>{const n=h.useContext(Et),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=so(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=Et;return h.createElement(s,{value:t},e)},Et=Ro(Ft,{});Ft.Provider=Et.Provider;Ft.Consumer=Et.Consumer;function Ro(e,t){return Object.assign(e,h.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Fo=()=>{const e=[],t=function(r){ro();const i=[];return C(e,(s,o)=>{if(p.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return C(e,r=>r.pause(...arguments)),this},t.resume=function(){return C(e,r=>r.resume(...arguments)),this},t.set=function(r){C(e,(i,s)=>{const o=p.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return C(e,(s,o)=>{if(p.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return C(e,r=>r.stop(...arguments)),this},t.update=function(r){return C(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return p.fun(r)?r(s,i):r};return t._getProps=n,t};function yi(e,t,n){const r=p.fun(t)&&t;r&&!n&&(n=[]);const i=h.useMemo(()=>r||arguments.length==3?Fo():void 0,[]),s=h.useRef(0),o=ti(),a=h.useMemo(()=>({ctrls:[],queue:[],flush(y,w){const _=hr(y,w);return s.current>0&&!a.queue.length&&!Object.keys(_).some(I=>!y.springs[I])?ln(y,w):new Promise(I=>{vi(y,_),a.queue.push(()=>{I(ln(y,w))}),o()})}}),[]),c=h.useRef([...a.ctrls]),u=[],l=tr(e)||0;h.useMemo(()=>{C(c.current.slice(e,l),y=>{_o(y,i),y.stop(!0)}),c.current.length=e,f(l,e)},[e]),h.useMemo(()=>{f(0,Math.min(l,e))},n);function f(y,w){for(let _=y;_<w;_++){const E=c.current[_]||(c.current[_]=new Mo(null,a.flush)),I=r?r(_,E):t[_];I&&(u[_]=Po(I))}}const v=c.current.map((y,w)=>hr(y,u[w])),b=h.useContext(Ft),g=tr(b),d=b!==g&&bo(b);Cn(()=>{s.current++,a.ctrls=c.current;const{queue:y}=a;y.length&&(a.queue=[],C(y,w=>w())),C(c.current,(w,_)=>{i==null||i.add(w),d&&w.start({default:b});const E=u[_];E&&(wo(w,E.ref),w.ref?w.queue.push(E):w.start(E))})}),ni(()=>()=>{C(a.ctrls,y=>y.stop(!0))});const m=v.map(y=>({...y}));return i?[m,i]:m}function vr(e,t){const n=p.fun(e),[[r],i]=yi(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var Do=class extends xn{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=qe(...t);const n=this._get(),r=rn(n);Pn(this,r.create(n))}advance(e){const t=this._get(),n=this.get();oe(t,n)||(ee(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&mr(this._active)&&jt(this)}_get(){const e=p.arr(this.source)?this.source.map(j):H(j(this.source));return this.calc(...e)}_start(){this.idle&&!mr(this._active)&&(this.idle=!1,C(Mt(this),e=>{e.done=!1}),J.skipAnimation?(k.batchedUpdates(()=>this.advance()),jt(this)):Pt.start(this))}_attach(){let e=1;C(H(this.source),t=>{q(t)&&Le(t,this),an(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){C(H(this.source),e=>{q(e)&&Ke(e,this)}),this._active.clear(),jt(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=H(this.source).reduce((t,n)=>Math.max(t,(an(n)?n.priority:0)+1),0))}};function Lo(e){return e.idle!==!1}function mr(e){return!e.size||Array.from(e).every(Lo)}function jt(e){e.idle||(e.idle=!0,C(Mt(e),t=>{t.done=!0}),Ye(e,{type:"idle",parent:e}))}J.assign({createStringInterpolator:Jr,to:(e,t)=>new Do(e,t)});var bi=/^--/;function Vo(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!bi.test(e)&&!(ze.hasOwnProperty(e)&&ze[e])?t+"px":(""+t).trim()}var pr={};function No(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...c}=t,u=Object.values(c),l=Object.keys(c).map(f=>n||e.hasAttribute(f)?f:pr[f]||(pr[f]=f.replace(/([A-Z])/g,v=>"-"+v.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const v=Vo(f,r[f]);bi.test(f)?e.style.setProperty(f,v):e.style[f]=v}l.forEach((f,v)=>{e.setAttribute(f,u[v])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),a!==void 0&&e.setAttribute("viewBox",a)}var ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bo=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Uo=["Webkit","Ms","Moz","O"];ze=Object.keys(ze).reduce((e,t)=>(Uo.forEach(n=>e[Bo(n,t)]=e[t]),e),ze);var jo=/^(matrix|translate|scale|rotate|skew)/,Wo=/^(translate)/,$o=/^(rotate|skew)/,Wt=(e,t)=>p.num(e)&&e!==0?e+t:e,mt=(e,t)=>p.arr(e)?e.every(n=>mt(n,t)):p.num(e)?e===t:parseFloat(e)===t,Ho=class extends Rt{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>Wt(a,"px")).join(",")})`,mt(o,0)])),ne(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(c=>[c,c===""]);else if(jo.test(a)){if(delete r[a],p.und(o))return;const c=Wo.test(a)?"px":$o.test(a)?"deg":"";i.push(H(o)),s.push(a==="rotate3d"?([u,l,f,v])=>[`rotate3d(${u},${l},${f},${Wt(v,c)})`,mt(v,0)]:u=>[`${a}(${u.map(l=>Wt(l,c)).join(",")})`,mt(u,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new zo(i,s)),super(r)}},zo=class extends Qr{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return C(this.inputs,(n,r)=>{const i=j(n[0]),[s,o]=this.transforms[r](p.arr(i)?i:n.map(j));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&C(this.inputs,t=>C(t,n=>q(n)&&Le(n,this)))}observerRemoved(e){e==0&&C(this.inputs,t=>C(t,n=>q(n)&&Ke(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Ye(this,e)}},qo=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];J.assign({batchedUpdates:Es.unstable_batchedUpdates,createStringInterpolator:Jr,colors:Fs});var Go=vo(qo,{applyAnimatedValues:No,createAnimatedStyle:e=>new Ho(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),de=Go.animated;function Yo(e,t,n){return Math.max(t,Math.min(e,n))}const M={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function gr(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function yr(e,t,n,r=.15){return r===0?Yo(e,t,n):e<t?-gr(t-e,n-t,r)+t:e>n?+gr(e-n,n-t,r)+n:e}function Ko(e,[t,n],[r,i]){const[[s,o],[a,c]]=e;return[yr(t,s,o,r),yr(n,a,c,i)]}function Qo(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xo(e){var t=Qo(e,"string");return typeof t=="symbol"?t:String(t)}function D(e,t,n){return t=Xo(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?br(Object(n),!0).forEach(function(r){D(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const _i={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function _r(e){return e?e[0].toUpperCase()+e.slice(1):""}const Zo=["enter","leave"];function Jo(e=!1,t){return e&&!Zo.includes(t)}function ea(e,t="",n=!1){const r=_i[e],i=r&&r[t]||t;return"on"+_r(e)+_r(i)+(Jo(n,i)?"Capture":"")}const ta=["gotpointercapture","lostpointercapture"];function na(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=ta.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function ra(e,t=""){const n=_i[e],r=n&&n[t]||t;return e+r}function Dt(e){return"touches"in e}function wi(e){return Dt(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function ia(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function sa(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Si(e){return Dt(e)?sa(e)[0]:e}function fn(e,t){try{const n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,s=(t.clientY+e.clientY)/2,o=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:o,origin:[i,s]}}catch{}return null}function oa(e){return ia(e).map(t=>t.identifier)}function wr(e,t){const[n,r]=Array.from(e.touches).filter(i=>t.includes(i.identifier));return fn(n,r)}function $t(e){const t=Si(e);return Dt(e)?t.identifier:t.pointerId}function Fe(e){const t=Si(e);return[t.clientX,t.clientY]}const Sr=40,Er=800;function Ei(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=Sr,n*=Sr):r===2&&(t*=Er,n*=Er),[t,n]}function aa(e){var t,n;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=e.currentTarget;return[(t=r??s)!==null&&t!==void 0?t:0,(n=i??o)!==null&&n!==void 0?n:0]}function ua(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return t}function It(e,...t){return typeof e=="function"?e(...t):e}function ca(){}function la(...e){return e.length===0?ca:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function Ir(e,t){return Object.assign({},t,e||{})}const fa=32;class Ii{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:i}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?It(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,ua(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const P=n._delta.map(Math.abs);M.addTo(n._distance,P)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[c,u]=r.threshold,{_step:l,values:f}=n;if(r.hasCustomTransform?(l[0]===!1&&(l[0]=Math.abs(o)>=c&&f[0]),l[1]===!1&&(l[1]=Math.abs(a)>=u&&f[1])):(l[0]===!1&&(l[0]=Math.abs(o)>=c&&Math.sign(o)*c),l[1]===!1&&(l[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=l[0]!==!1||l[1]!==!1,!n.intentional)return;const v=[0,0];if(r.hasCustomTransform){const[P,O]=f;v[0]=l[0]!==!1?P-l[0]:0,v[1]=l[1]!==!1?O-l[1]:0}else v[0]=l[0]!==!1?o-l[0]:0,v[1]=l[1]!==!1?a-l[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(v);const b=n.offset,g=n._active&&!n._blocked||n.active;g&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=It(r.bounds,n)),this.setup&&this.setup()),n.movement=v,this.computeOffset()));const[d,m]=n.offset,[[y,w],[_,E]]=n._bounds;n.overflow=[d<y?-1:d>w?1:0,m<_?-1:m>E?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const I=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=Ko(n._bounds,n.offset,I),n.delta=M.sub(n.offset,b),this.computeMovement(),g&&(!n.last||s>fa)){n.delta=M.sub(n.offset,b);const P=n.delta.map(Math.abs);M.addTo(n.distance,P),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[P[0]/s,P[1]/s],n.timeDelta=s)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(R(R(R({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function da([e,t],n){const r=Math.abs(e),i=Math.abs(t);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class at extends Ii{constructor(...t){super(...t),D(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=M.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=M.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[wi(t)]:r.axisThreshold;n.axis=da(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const ha=e=>e,kr=.15,ki={enabled(e=!0){return e},eventOptions(e,t,n){return R(R({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[kr,kr];case!1:return[0,0];default:return M.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return M.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||ha},threshold(e){return M.toVector(e,0)}},va=0,ge=R(R({},ki),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=va){return e},bounds(e={}){if(typeof e=="function")return s=>ge.bounds(e(s));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),Ar={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class ma extends at{constructor(...t){super(...t),D(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=ge.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=$t(t),r._pointerActive=!0,this.computeValues(Fe(t)),this.computeInitial(),n.preventScrollAxis&&wi(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=$t(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=Fe(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=M.sub(s,n._values),this.computeValues(s)),M.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=$t(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,c]=n._delta,[u,l]=n._movement,[f,v]=r.swipe.velocity,[b,g]=r.swipe.distance,d=r.swipe.duration;if(n.elapsedTime<d){const m=Math.abs(a/n.timeDelta),y=Math.abs(c/n.timeDelta);m>f&&Math.abs(u)>b&&(n.swipe[0]=Math.sign(a)),y>v&&Math.abs(l)>g&&(n.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,pa(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=Ar[t.key];if(n){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,M.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Ar&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function pa(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const ut=typeof window<"u"&&window.document&&window.document.createElement;function Ai(){return ut&&"ontouchstart"in window}function ga(){return Ai()||ut&&window.navigator.maxTouchPoints>1}function ya(){return ut&&"onpointerdown"in window}function ba(){return ut&&"exitPointerLock"in window.document}function _a(){try{return"constructor"in GestureEvent}catch{return!1}}const G={isBrowser:ut,gesture:_a(),touch:Ai(),touchscreen:ga(),pointer:ya(),pointerLock:ba()},wa=250,Sa=180,Ea=.5,Ia=50,ka=250,Aa=10,Cr={mouse:0,touch:0,pen:8},Ca=R(R({},ge),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&G.pointerLock,G.touch&&n?"touch":this.pointerLock?"mouse":G.pointer&&!i?"pointer":G.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?wa:void 0,!(!G.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=M.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:e=Ea,distance:t=Ia,duration:n=ka}={}){return{velocity:this.transform(M.toVector(e)),distance:this.transform(M.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return Sa;case!1:return 0;default:return e}},axisThreshold(e){return e?R(R({},Cr),e):Cr},keyboardDisplacement(e=Aa){return e}});function Ci(e){const[t,n]=e.overflow,[r,i]=e._delta,[s,o]=e._direction;(t<0&&r>0&&s<0||t>0&&r<0&&s>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&i>0&&o<0||n>0&&i<0&&o>0)&&(e._movement[1]=e._movementBound[1])}const Pa=30,Ta=100;class Oa extends Ii{constructor(...t){super(...t),D(this,"ingKey","pinching"),D(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=M.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const i=Math.abs(n)*Pa-Math.abs(r);i<0?t.axis="angle":i>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const i=wr(t,n._touchIds);i&&this.pinchStart(t,i)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const s=fn(...Array.from(r.values()));s&&this.pinchStart(t,s)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=wr(t,this.state._touchIds);n&&this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=fn(...Array.from(n.values()));r&&this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,i=r._values[1],s=n.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([n.distance,n.angle-360*o]),r.origin=n.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=M.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>t[r]):!t[n])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-Ei(t)[1]/Ta*r.offset[0],0],M.addTo(r._movement,r._delta),Ci(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this)),t("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const xa=R(R({},ki),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!G.touch&&G.gesture)return"gesture";if(G.touch&&r)return"touch";if(G.touchscreen){if(G.pointer)return"pointer";if(G.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=Ir(It(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=Ir(It(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",M.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class Ma extends at{constructor(...t){super(...t),D(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Fe(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const n=Fe(t),r=this.state;r._delta=M.sub(n,r._values),M.addTo(r._movement,r._delta),this.computeValues(n),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const Ra=R(R({},ge),{},{mouseOnly:(e=!0)=>e});class Fa extends at{constructor(...t){super(...t),D(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const n=this.state,r=aa(t);n._delta=M.sub(r,n._values),M.addTo(n._movement,n._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const Da=ge;class La extends at{constructor(...t){super(...t),D(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=Ei(t),M.addTo(n._movement,n._delta),Ci(n),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const Va=ge;class Na extends at{constructor(...t){super(...t),D(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Fe(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Fe(t);n._movement=n._delta=M.sub(r,n._values),this.computeValues(r),this.compute(t),n.delta=n.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const Ba=R(R({},ge),{},{mouseOnly:(e=!0)=>e}),Mn=new Map,dn=new Map;function Ua(e){Mn.set(e.key,e.engine),dn.set(e.key,e.resolver)}const ja={key:"drag",engine:ma,resolver:Ca},Wa={key:"hover",engine:Na,resolver:Ba},$a={key:"move",engine:Ma,resolver:Ra},Ha={key:"pinch",engine:Oa,resolver:xa},za={key:"scroll",engine:Fa,resolver:Da},qa={key:"wheel",engine:La,resolver:Va};function Ga(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ya(e,t){if(e==null)return{};var n=Ga(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const Ka={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=G.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},Qa=["target","eventOptions","window","enabled","transform"];function pt(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=pt(e[r],i);break;case"boolean":i&&(n[r]=e[r]);break}return n}function Xa(e,t,n={}){const r=e,{target:i,eventOptions:s,window:o,enabled:a,transform:c}=r,u=Ya(r,Qa);if(n.shared=pt({target:i,eventOptions:s,window:o,enabled:a,transform:c},Ka),t){const l=dn.get(t);n[t]=pt(R({shared:n.shared},u),l)}else for(const l in u){const f=dn.get(l);f&&(n[l]=pt(R({shared:n.shared},u[l]),f))}return n}class Pi{constructor(t,n){D(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,i,s){const o=this._listeners,a=ra(n,r),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=R(R({},c),s);t.addEventListener(a,i,u);const l=()=>{t.removeEventListener(a,i,u),o.delete(l)};return o.add(l),l}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Za{constructor(){D(this,"_timeouts",new Map)}add(t,n,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Ja{constructor(t){D(this,"gestures",new Set),D(this,"_targetEventStore",new Pi(this)),D(this,"gestureEventStores",{}),D(this,"gestureTimeoutStores",{}),D(this,"handlers",{}),D(this,"config",{}),D(this,"pointerIds",new Set),D(this,"touchIds",new Set),D(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),eu(this,t)}setEventIds(t){if(Dt(t))return this.touchIds=new Set(oa(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=Xa(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],c=Pr(r,a.eventOptions,!!i);if(a.enabled){const u=Mn.get(o);new u(this,t,o).bind(c)}}const s=Pr(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](R(R({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const s in r)r[s]=la(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:c}=na(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:c})}}}}function Se(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Pi(e,t),e.gestureTimeoutStores[t]=new Za}function eu(e,t){t.drag&&Se(e,"drag"),t.wheel&&Se(e,"wheel"),t.scroll&&Se(e,"scroll"),t.move&&Se(e,"move"),t.pinch&&Se(e,"pinch"),t.hover&&Se(e,"hover")}const Pr=(e,t,n)=>(r,i,s,o={},a=!1)=>{var c,u;const l=(c=o.capture)!==null&&c!==void 0?c:t.capture,f=(u=o.passive)!==null&&u!==void 0?u:t.passive;let v=a?r:ea(r,i,l);n&&f&&(v+="Passive"),e[v]=e[v]||[],e[v].push(s)},tu=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function nu(e){const t={},n={},r=new Set;for(let i in e)tu.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}function Ee(e,t,n,r,i,s){if(!e.has(n)||!Mn.has(r))return;const o=n+"Start",a=n+"End",c=u=>{let l;return u.first&&o in t&&t[o](u),n in t&&(l=t[n](u)),u.last&&a in t&&t[a](u),l};i[r]=c,s[r]=s[r]||{}}function ru(e,t){const[n,r,i]=nu(e),s={};return Ee(i,n,"onDrag","drag",s,t),Ee(i,n,"onWheel","wheel",s,t),Ee(i,n,"onScroll","scroll",s,t),Ee(i,n,"onPinch","pinch",s,t),Ee(i,n,"onMove","move",s,t),Ee(i,n,"onHover","hover",s,t),{handlers:s,config:t,nativeHandlers:r}}function iu(e,t={},n,r){const i=x.useMemo(()=>new Ja(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),x.useEffect(i.effect.bind(i)),x.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function su(e){return e.forEach(Ua),function(n,r){const{handlers:i,nativeHandlers:s,config:o}=ru(n,r||{});return iu(i,o,void 0,s)}}function ou(e,t){return su([ja,Ha,za,qa,$a,Wa])(e,t||{})}var te=function(){return te=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},te.apply(this,arguments)};function Ti(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function au(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var gt="right-scroll-bar-position",yt="width-before-scroll-bar",uu="with-scroll-bars-hidden",cu="--removed-body-scroll-bar-size";function Ht(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lu(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var fu=typeof window<"u"?h.useLayoutEffect:h.useEffect,Tr=new WeakMap;function Oi(e,t){var n=lu(t||null,function(r){return e.forEach(function(i){return Ht(i,r)})});return fu(function(){var r=Tr.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||Ht(a,null)}),s.forEach(function(a){i.has(a)||Ht(a,o)})}Tr.set(n,e)},[e]),n}function xi(e){return e}function Mi(e,t){t===void 0&&(t=xi);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var l=o;o=[],l.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(l){o.push(l),u()},filter:function(l){return o=o.filter(l),n}}}};return i}function Rn(e,t){return t===void 0&&(t=xi),Mi(e,t)}function Ri(e){e===void 0&&(e={});var t=Mi(null);return t.options=te({async:!0,ssr:!1},e),t}var Fi=function(e){var t=e.sideCar,n=Ti(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,te({},n))};Fi.isSideCarExport=!0;function du(e,t){return e.useMedium(t),Fi}var Di=Ri(),zt=function(){},Lt=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:zt,onWheelCapture:zt,onTouchMoveCapture:zt}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,l=e.enabled,f=e.shards,v=e.sideCar,b=e.noIsolation,g=e.inert,d=e.allowPinchZoom,m=e.as,y=m===void 0?"div":m,w=e.gapMode,_=Ti(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,I=Oi([n,t]),P=te(te({},_),i);return h.createElement(h.Fragment,null,l&&h.createElement(E,{sideCar:Di,removeScrollBar:u,shards:f,noIsolation:b,inert:g,setCallbacks:s,allowPinchZoom:!!d,lockRef:n,gapMode:w}),o?h.cloneElement(h.Children.only(a),te(te({},P),{ref:I})):h.createElement(y,te({},P,{className:c,ref:I}),a))});Lt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lt.classNames={fullWidth:yt,zeroRight:gt};var Or,hu=function(){if(Or)return Or;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vu(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hu();return t&&e.setAttribute("nonce",t),e}function mu(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pu(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gu=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vu())&&(mu(t,n),pu(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yu=function(){var e=gu();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Li=function(){var e=yu(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},bu={left:0,top:0,right:0,gap:0},qt=function(e){return parseInt(e||"",10)||0},_u=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[qt(n),qt(r),qt(i)]},wu=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bu;var t=_u(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Su=Li(),Oe="data-scroll-locked",Eu=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(uu,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Oe,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gt,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yt,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gt," .").concat(gt,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yt," .").concat(yt,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Oe,`] {
    `).concat(cu,": ").concat(a,`px;
  }
`)},xr=function(){var e=parseInt(document.body.getAttribute(Oe)||"0",10);return isFinite(e)?e:0},Iu=function(){h.useEffect(function(){return document.body.setAttribute(Oe,(xr()+1).toString()),function(){var e=xr()-1;e<=0?document.body.removeAttribute(Oe):document.body.setAttribute(Oe,e.toString())}},[])},ku=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Iu();var s=h.useMemo(function(){return wu(i)},[i]);return h.createElement(Su,{styles:Eu(s,!t,i,n?"":"!important")})},hn=!1;if(typeof window<"u")try{var dt=Object.defineProperty({},"passive",{get:function(){return hn=!0,!0}});window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{hn=!1}var Ie=hn?{passive:!1}:!1,Au=function(e){return e.tagName==="TEXTAREA"},Vi=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Au(e)&&n[t]==="visible")},Cu=function(e){return Vi(e,"overflowY")},Pu=function(e){return Vi(e,"overflowX")},Mr=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Ni(e,r);if(i){var s=Bi(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Tu=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Ou=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ni=function(e,t){return e==="v"?Cu(t):Pu(t)},Bi=function(e,t){return e==="v"?Tu(t):Ou(t)},xu=function(e,t){return e==="h"&&t==="rtl"?-1:1},Mu=function(e,t,n,r,i){var s=xu(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,c=t.contains(a),u=!1,l=o>0,f=0,v=0;do{var b=Bi(e,a),g=b[0],d=b[1],m=b[2],y=d-m-s*g;(g||y)&&Ni(e,a)&&(f+=y,v+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(l&&(i&&Math.abs(f)<1||!i&&o>f)||!l&&(i&&Math.abs(v)<1||!i&&-o>v))&&(u=!0),u},ht=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rr=function(e){return[e.deltaX,e.deltaY]},Fr=function(e){return e&&"current"in e?e.current:e},Ru=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Fu=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Du=0,ke=[];function Lu(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(Du++)[0],s=h.useState(Li)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var d=au([e.lockRef.current],(e.shards||[]).map(Fr),!0).filter(Boolean);return d.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),d.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(d,m){if("touches"in d&&d.touches.length===2)return!o.current.allowPinchZoom;var y=ht(d),w=n.current,_="deltaX"in d?d.deltaX:w[0]-y[0],E="deltaY"in d?d.deltaY:w[1]-y[1],I,P=d.target,O=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in d&&O==="h"&&P.type==="range")return!1;var W=Mr(O,P);if(!W)return!0;if(W?I=O:(I=O==="v"?"h":"v",W=Mr(O,P)),!W)return!1;if(!r.current&&"changedTouches"in d&&(_||E)&&(r.current=I),!I)return!0;var L=r.current||I;return Mu(L,m,d,L==="h"?_:E,!0)},[]),c=h.useCallback(function(d){var m=d;if(!(!ke.length||ke[ke.length-1]!==s)){var y="deltaY"in m?Rr(m):ht(m),w=t.current.filter(function(I){return I.name===m.type&&(I.target===m.target||m.target===I.shadowParent)&&Ru(I.delta,y)})[0];if(w&&w.should){m.cancelable&&m.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(Fr).filter(Boolean).filter(function(I){return I.contains(m.target)}),E=_.length>0?a(m,_[0]):!o.current.noIsolation;E&&m.cancelable&&m.preventDefault()}}},[]),u=h.useCallback(function(d,m,y,w){var _={name:d,delta:m,target:y,should:w,shadowParent:Vu(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(E){return E!==_})},1)},[]),l=h.useCallback(function(d){n.current=ht(d),r.current=void 0},[]),f=h.useCallback(function(d){u(d.type,Rr(d),d.target,a(d,e.lockRef.current))},[]),v=h.useCallback(function(d){u(d.type,ht(d),d.target,a(d,e.lockRef.current))},[]);h.useEffect(function(){return ke.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Ie),document.addEventListener("touchmove",c,Ie),document.addEventListener("touchstart",l,Ie),function(){ke=ke.filter(function(d){return d!==s}),document.removeEventListener("wheel",c,Ie),document.removeEventListener("touchmove",c,Ie),document.removeEventListener("touchstart",l,Ie)}},[]);var b=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(s,{styles:Fu(i)}):null,b?h.createElement(ku,{gapMode:e.gapMode}):null)}function Vu(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Nu=du(Di,Lu);var Ui=h.forwardRef(function(e,t){return h.createElement(Lt,te({},e,{ref:t,sideCar:Nu}))});Ui.classNames=Lt.classNames;const Bu=Ui;var vn="data-focus-lock",ji="data-focus-lock-disabled",Uu="data-no-focus-lock",ju="data-autofocus-inside",Wu="data-no-autofocus",Gt={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Wi=Rn({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),$i=Rn(),$u=Rn(),Hu=Ri({async:!0,ssr:typeof document<"u"}),zu=h.createContext(void 0),qu=[],Hi=h.forwardRef(function(t,n){var r,i=h.useState(),s=i[0],o=i[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),l=h.useState({}),f=l[1],v=t.children,b=t.disabled,g=b===void 0?!1:b,d=t.noFocusGuards,m=d===void 0?!1:d,y=t.persistentFocus,w=y===void 0?!1:y,_=t.crossFrame,E=_===void 0?!0:_,I=t.autoFocus,P=I===void 0?!0:I;t.allowTextSelection;var O=t.group,W=t.className,L=t.whiteList,ie=t.hasPositiveIndices,S=t.shards,A=S===void 0?qu:S,T=t.as,F=T===void 0?"div":T,V=t.lockProps,N=V===void 0?{}:V,$=t.sideCar,B=t.returnFocus,U=B===void 0?!1:B,K=t.focusOptions,Q=t.onActivation,z=t.onDeactivation,ye=h.useState({}),ds=ye[0],hs=h.useCallback(function(se){var be=se.captureFocusRestore;if(!u.current){var _e,fe=(_e=document)==null?void 0:_e.activeElement;u.current=fe,fe!==document.body&&(u.current=be(fe))}a.current&&Q&&Q(a.current),c.current=!0,f()},[Q]),vs=h.useCallback(function(){c.current=!1,z&&z(a.current),f()},[z]),ms=h.useCallback(function(se){var be=u.current;if(be){var _e=(typeof be=="function"?be():be)||document.body,fe=typeof U=="function"?U(_e):U;if(fe){var zn=typeof fe=="object"?fe:void 0;u.current=null,se?Promise.resolve().then(function(){return _e.focus(zn)}):_e.focus(zn)}}},[U]),ps=h.useCallback(function(se){c.current&&Wi.useMedium(se)},[]),gs=$i.useMedium,ys=h.useCallback(function(se){a.current!==se&&(a.current=se,o(se))},[]),bs=Jt((r={},r[ji]=g&&"disabled",r[vn]=O,r),N),Hn=m!==!0,_s=Hn&&m!=="tail",ws=Oi([n,ys]),Ss=h.useMemo(function(){return{observed:a,shards:A,enabled:!g,active:c.current}},[g,c.current,A,s]);return h.createElement(h.Fragment,null,Hn&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:g?-1:0,style:Gt}),ie?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:g?-1:1,style:Gt}):null],!g&&h.createElement($,{id:ds,sideCar:Hu,observed:s,disabled:g,persistentFocus:w,crossFrame:E,autoFocus:P,whiteList:L,shards:A,onActivation:hs,onDeactivation:vs,returnFocus:ms,focusOptions:K}),h.createElement(F,Jt({ref:ws},bs,{className:W,onBlur:gs,onFocus:ps}),h.createElement(zu.Provider,{value:Ss},v)),_s&&h.createElement("div",{"data-focus-guard":!0,tabIndex:g?-1:0,style:Gt}))});Hi.propTypes={};const zi=Hi;function tt(e){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(e)}function Gu(e,t){if(tt(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(e){var t=Gu(e,"string");return tt(t)=="symbol"?t:String(t)}function Ku(e,t,n){return t=Yu(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qu(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=e(s.map(function(u){return u.props})),t(o)}var c=function(u){Is(l,u);function l(){return u.apply(this,arguments)||this}l.peek=function(){return o};var f=l.prototype;return f.componentDidMount=function(){s.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var b=s.indexOf(this);s.splice(b,1),a()},f.render=function(){return x.createElement(i,this.props)},l}(h.PureComponent);return Ku(c,"displayName","SideEffect("+n(i)+")"),c}}var re=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},pe=function(e){return Array.isArray(e)?e:[e]},qi=function(e){return Array.isArray(e)?e[0]:e},Xu=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},Gi=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Yi=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Zu=function(e){return e.hasAttribute("inert")},Ju=function(e,t){return!e||Yi(e)||!Xu(e)&&!Zu(e)&&t(Gi(e))},Ki=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Ju(t,Ki.bind(void 0,e));return e.set(t,r),r},ec=function(e,t){return e&&!Yi(e)?rc(e)?t(Gi(e)):!1:!0},Qi=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=ec(t,Qi.bind(void 0,e));return e.set(t,r),r},Xi=function(e){return e.dataset},tc=function(e){return e.tagName==="BUTTON"},Zi=function(e){return e.tagName==="INPUT"},Ji=function(e){return Zi(e)&&e.type==="radio"},nc=function(e){return!((Zi(e)||tc(e))&&(e.type==="hidden"||e.disabled))},rc=function(e){var t=e.getAttribute(Wu);return![!0,"true",""].includes(t)},Fn=function(e){var t;return!!(e&&(!((t=Xi(e))===null||t===void 0)&&t.focusGuard))},mn=function(e){return!Fn(e)},ic=function(e){return!!e},sc=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,s=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||s},oc=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},Dn=function(e,t,n){return re(e).map(function(r,i){var s=oc(r);return{node:r,index:i,tabIndex:n&&s===-1?(r.dataset||{}).focusGuard?0:-1:s}}).filter(function(r){return!t||r.tabIndex>=0}).sort(sc)},ac=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],Ln=ac.join(","),uc="".concat(Ln,", [data-focus-guard]"),es=function(e,t){return re((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?uc:Ln)?[r]:[],es(r))},[])},cc=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?De([e.contentDocument.body],t):[e]},De=function(e,t){return e.reduce(function(n,r){var i,s=es(r,t),o=(i=[]).concat.apply(i,s.map(function(a){return cc(a,t)}));return n.concat(o,r.parentNode?re(r.parentNode.querySelectorAll(Ln)).filter(function(a){return a===r}):[])},[])},lc=function(e){var t=e.querySelectorAll("[".concat(ju,"]"));return re(t).map(function(n){return De([n])}).reduce(function(n,r){return n.concat(r)},[])},Vn=function(e,t){return re(e).filter(function(n){return Ki(t,n)}).filter(function(n){return nc(n)})},Dr=function(e,t){return t===void 0&&(t=new Map),re(e).filter(function(n){return Qi(t,n)})},Nn=function(e,t,n){return Dn(Vn(De(e,n),t),!0,n)},kt=function(e,t){return Dn(Vn(De(e),t),!1)},fc=function(e,t){return Vn(lc(e),t)},ve=function(e,t){return e.shadowRoot?ve(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:re(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?ve(i,t):!1}return ve(n,t)})},dc=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=e[r].compareDocumentPosition(e[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(o,a){return!t.has(a)})},ts=function(e){return e.parentNode?ts(e.parentNode):e},Bn=function(e){var t=pe(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(vn);return n.push.apply(n,i?dc(re(ts(r).querySelectorAll("[".concat(vn,'="').concat(i,'"]:not([').concat(ji,'="disabled"])')))):[r]),n},[])},hc=function(e){try{return e()}catch{return}},nt=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?nt(t.shadowRoot):t instanceof HTMLIFrameElement&&hc(function(){return t.contentWindow.document})?nt(t.contentWindow.document):t}},vc=function(e,t){return e===t},mc=function(e,t){return!!re(e.querySelectorAll("iframe")).some(function(n){return vc(n,t)})},ns=function(e,t){return t===void 0&&(t=nt(qi(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:Bn(e).some(function(n){return ve(n,t)||mc(n,t)})},pc=function(e){e===void 0&&(e=document);var t=nt(e);return t?re(e.querySelectorAll("[".concat(Uu,"]"))).some(function(n){return ve(n,t)}):!1},gc=function(e,t){return t.filter(Ji).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},Un=function(e,t){return Ji(e)&&e.name?gc(e,t):e},yc=function(e){var t=new Set;return e.forEach(function(n){return t.add(Un(n,e))}),e.filter(function(n){return t.has(n)})},Lr=function(e){return e[0]&&e.length>1?Un(e[0],e):e[0]},Vr=function(e,t){return e.indexOf(Un(t,e))},pn="NEW_FOCUS",bc=function(e,t,n,r,i){var s=e.length,o=e[0],a=e[s-1],c=Fn(r);if(!(r&&e.indexOf(r)>=0)){var u=r!==void 0?n.indexOf(r):-1,l=i?n.indexOf(i):u,f=i?e.indexOf(i):-1;if(u===-1)return f!==-1?f:pn;if(f===-1)return pn;var v=u-l,b=n.indexOf(o),g=n.indexOf(a),d=yc(n),m=r!==void 0?d.indexOf(r):-1,y=m-(i?d.indexOf(i):u);if(!v&&f>=0||t.length===0)return f;var w=Vr(e,t[0]),_=Vr(e,t[t.length-1]);if(u<=b&&c&&Math.abs(v)>1)return _;if(u>=g&&c&&Math.abs(v)>1)return w;if(v&&Math.abs(y)>1)return f;if(u<=b)return _;if(u>g)return w;if(v)return Math.abs(v)>1?f:(s+f+v)%s}},_c=function(e){return function(t){var n,r=(n=Xi(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Nr=function(e,t,n){var r=e.map(function(s){var o=s.node;return o}),i=Dr(r.filter(_c(n)));return i&&i.length?Lr(i):Lr(Dr(t))},gn=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&gn(e.parentNode.host||e.parentNode,t),t},Yt=function(e,t){for(var n=gn(e),r=gn(t),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},rs=function(e,t,n){var r=pe(e),i=pe(t),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=Yt(o||a,a)||o,n.filter(Boolean).forEach(function(c){var u=Yt(s,c);u&&(!o||ve(u,o)?o=u:o=Yt(u,o))})}),o},Br=function(e,t){return e.reduce(function(n,r){return n.concat(fc(r,t))},[])},wc=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(ic)},Sc=function(e,t){var n=nt(pe(e).length>0?document:qi(e).ownerDocument),r=Bn(e).filter(mn),i=rs(n||e,e,r),s=new Map,o=kt(r,s),a=o.filter(function(g){var d=g.node;return mn(d)});if(a[0]){var c=kt([i],s).map(function(g){var d=g.node;return d}),u=wc(c,a),l=u.map(function(g){var d=g.node;return d}),f=u.filter(function(g){var d=g.tabIndex;return d>=0}).map(function(g){var d=g.node;return d}),v=bc(l,f,c,n,t);if(v===pn){var b=Nr(o,f,Br(r,s))||Nr(o,l,Br(r,s));if(b)return{node:b};console.warn("focus-lock: cannot find any node to move focus into");return}return v===void 0?v:u[v]}},Ec=function(e){var t=Bn(e).filter(mn),n=rs(e,e,t),r=Dn(De([n],!0),!0,!0),i=De(t,!1);return r.map(function(s){var o=s.node,a=s.index;return{node:o,index:a,lockItem:i.indexOf(o)>=0,guard:Fn(o)}})},jn=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},Kt=0,Qt=!1,is=function(e,t,n){n===void 0&&(n={});var r=Sc(e,t);if(!Qt&&r){if(Kt>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Qt=!0,setTimeout(function(){Qt=!1},1);return}Kt++,jn(r.node,n.focusOptions),Kt--}};function Ue(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var Ic=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:Ue(n),parent:Ue(n.parentElement),left:Ue(n.previousElementSibling),right:Ue(n.nextElementSibling)}),n=n.parentElement;return{element:Ue(e),stack:t,ownerDocument:e.ownerDocument}},kc=function(e){var t,n,r,i,s;if(e)for(var o=e.stack,a=e.ownerDocument,c=new Map,u=0,l=o;u<l.length;u++){var f=l[u],v=(t=f.parent)===null||t===void 0?void 0:t.call(f);if(v&&a.contains(v)){for(var b=(n=f.left)===null||n===void 0?void 0:n.call(f),g=f.current(),d=v.contains(g)?g:void 0,m=(r=f.right)===null||r===void 0?void 0:r.call(f),y=Nn([v],c),w=(s=(i=d??(b==null?void 0:b.nextElementSibling))!==null&&i!==void 0?i:m)!==null&&s!==void 0?s:b;w;){for(var _=0,E=y;_<E.length;_++){var I=E[_];if(w!=null&&w.contains(I.node))return I.node}w=w.nextElementSibling}if(y.length)return y[0].node}}},Ac=function(e){var t=Ic(e);return function(){return kc(t)}},Cc=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=pe(t);if(r.every(function(o){return!ve(o,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?Nn(r,new Map):kt(r,new Map),s=i.findIndex(function(o){var a=o.node;return a===e});if(s!==-1)return{prev:i[s-1],next:i[s+1],first:i[0],last:i[i.length-1]}},Pc=function(e,t){var n=t?Nn(pe(e),new Map):kt(pe(e),new Map);return{first:n[0],last:n[n.length-1]}},Tc=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},ss=function(e,t,n){t===void 0&&(t={});var r=Tc(t),i=Cc(e,r.scope,r.onlyTabbable);if(i){var s=n(i,r.cycle);s&&jn(s.node,r.focusOptions)}},Oc=function(e,t){t===void 0&&(t={}),ss(e,t,function(n,r){var i=n.next,s=n.first;return i||r&&s})},xc=function(e,t){t===void 0&&(t={}),ss(e,t,function(n,r){var i=n.prev,s=n.last;return i||r&&s})},os=function(e,t,n){var r,i=Pc(e,(r=t.onlyTabbable)!==null&&r!==void 0?r:!0),s=i[n];s&&jn(s.node,t.focusOptions)},Mc=function(e,t){t===void 0&&(t={}),os(e,t,"first")},Rc=function(e,t){t===void 0&&(t={}),os(e,t,"last")};function Wn(e){setTimeout(e,1)}var Fc=function(t){return t&&"current"in t?t.current:t},Dc=function(){return document&&document.activeElement===document.body},Lc=function(){return Dc()||pc()},xe=null,Ce=null,Me=null,rt=!1,Vc=function(){return!0},Nc=function(t){return(xe.whiteList||Vc)(t)},Bc=function(t,n){Me={observerNode:t,portaledElement:n}},Uc=function(t){return Me&&Me.portaledElement===t};function Ur(e,t,n,r){var i=null,s=e;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==e)return;i=null}else break}while((s+=n)!==t);i&&(i.node.tabIndex=0)}var jc=function(t){return t?!!rt:rt==="meanwhile"},Wc=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},$c=function(t,n){return n.some(function(r){return Wc(t,r,r)})},At=function(){var t=!1;if(xe){var n=xe,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||Me&&Me.portaledElement,l=document&&document.activeElement;if(u){var f=[u].concat(o.map(Fc).filter(Boolean));if((!l||Nc(l))&&(i||jc(a)||!Lc()||!Ce&&s)&&(u&&!(ns(f)||l&&$c(l,f)||Uc(l))&&(document&&!Ce&&l&&!s?(l.blur&&l.blur(),document.body.focus()):(t=is(f,Ce,{focusOptions:c}),Me={})),rt=!1,Ce=document&&document.activeElement),document&&l!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var v=document&&document.activeElement,b=Ec(f),g=b.map(function(d){var m=d.node;return m}).indexOf(v);g>-1&&(b.filter(function(d){var m=d.guard,y=d.node;return m&&y.dataset.focusAutoGuard}).forEach(function(d){var m=d.node;return m.removeAttribute("tabIndex")}),Ur(g,b.length,1,b),Ur(g,-1,-1,b))}}}return t},as=function(t){At()&&t&&(t.stopPropagation(),t.preventDefault())},$n=function(){return Wn(At)},Hc=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Bc(r,n)},zc=function(){return null},us=function(){rt="just",Wn(function(){rt="meanwhile"})},qc=function(){document.addEventListener("focusin",as),document.addEventListener("focusout",$n),window.addEventListener("blur",us)},Gc=function(){document.removeEventListener("focusin",as),document.removeEventListener("focusout",$n),window.removeEventListener("blur",us)};function Yc(e){return e.filter(function(t){var n=t.disabled;return!n})}var cs={moveFocusInside:is,focusInside:ns,focusNextElement:Oc,focusPrevElement:xc,focusFirstElement:Mc,focusLastElement:Rc,captureFocusRestore:Ac};function Kc(e){var t=e.slice(-1)[0];t&&!xe&&qc();var n=xe,r=n&&t&&t.id===n.id;xe=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!t)),t?(Ce=null,(!r||n.observed!==t.observed)&&t.onActivation(cs),At(),Wn(At)):(Gc(),Ce=null)}Wi.assignSyncMedium(Hc);$i.assignMedium($n);$u.assignMedium(function(e){return e(cs)});const Qc=Qu(Yc,Kc)(zc);var ls=h.forwardRef(function(t,n){return h.createElement(zi,Jt({sideCar:Qc,ref:n},t))}),fs=zi.propTypes||{};fs.sideCar;ks(fs,["sideCar"]);ls.propTypes={};const Xc=ls;var Xt={position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.3)",border:"none",color:"white",borderRadius:4,display:"flex",height:40,justifyContent:"center",alignItems:"center",padding:0,zIndex:9999},Zc={position:"fixed",width:"100vw",height:"100vh",top:0,left:0,display:"flex",overflow:"hidden",marginRight:32,zIndex:9999},Jc={width:"100vw",height:"100vh",overflow:"hidden",flexShrink:0,position:"absolute",justifyContent:"center",alignItems:"center",touchAction:"none"},el={touchAction:"none",userSelect:"none",maxWidth:"100vw",maxHeight:"100vh"};function tl(){return x.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true"},x.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.25 6.75L6.75 17.25"}),x.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.75 6.75L17.25 17.25"}))}function nl(){return x.createElement("svg",{width:"18",height:"24",fill:"none",viewBox:"0 0 18 24","aria-hidden":"true"},x.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M13.696,20.721l-9.392,-8.721l9.392,-8.721"}))}function rl(){return x.createElement("svg",{width:"18",height:"24",fill:"none",viewBox:"0 0 18 24","aria-hidden":"true"},x.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.304,3.279l9.392,8.721l-9.392,8.721"}))}function ul({images:e,defaultIndex:t,onClose:n,children:r}){const[i,s]=h.useState(Ae(t??0,0,e.length-1)),[o,a]=h.useState(!1);h.useEffect(()=>{s(S=>Ae(S,0,e.length-1))},[e.length]);const c=h.useRef(null),u=h.useRef([0,0]),[[l,f],v]=h.useState([window.innerWidth,window.innerHeight]);h.useEffect(()=>{function S(){v([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const[b,g]=vr(()=>({backgroundColor:"rgba(0, 0, 0, 0)"})),[d,m]=vr(()=>({display:"none"})),[y,w]=yi(e.length,S=>({h:Zt(S,i,l),x:0,y:0,scale:S===i?.2:1,opacity:S===i?0:1,display:S===i?"flex":"none"}));h.useEffect(()=>{w.start(S=>{if(S===i)return{opacity:1,scale:1}}),g.start({backgroundColor:"rgba(0, 0, 0, 1)"}),m.start({display:"block"})},[]),h.useEffect(()=>{c.current=null,w.start(S=>S<i-1||S>i+1?{display:"none"}:{h:Zt(S,i,l),x:0,y:0,scale:1,display:"flex"})},[i]);function _(){if(o)return;a(!0);let S=!1;function A(){S||(S=!0,n())}const T={mass:.5,friction:10};w.start(F=>{if(F===i)return{opacity:0,scale:.2,x:0,y:0,sx:0,sy:0,onRest:A,config:T}}),g.start({backgroundColor:"rgba(0, 0, 0, 0)",onRest:A,config:T}),m.start({display:"none"})}h.useEffect(()=>{e.length===0&&!o&&_()},[e.length,_,o]);function E(){s(S=>Ae(S+1,0,e.length-1))}function I(){s(S=>Ae(S-1,0,e.length-1))}h.useEffect(()=>{function S(A){switch(A.code){case"Escape":_();break;case"ArrowLeft":I();break;case"ArrowRight":E();break}}return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]);function P(){c.current="pinch",m.start({display:"none"})}function O(){u.current=[0,0],c.current=null,m.start({display:"block"})}function W(S){if(o)return;let A=S.target;if((!A||!(A instanceof HTMLImageElement))&&(A=S.currentTarget.querySelector(`img[src="${e[i][0]}"]`)),!A||!(A instanceof HTMLImageElement)){console.warn("Failed to determine active image during double tap");return}w.start((T,F)=>{if(T===i&&A){if(c.current==="pinch")return O(),{scale:1,x:0,y:0};{const V=A.naturalWidth/A.width;if(V<1)return;const N=S.clientX-(l/2+u.current[0]),$=S.clientY-(f/2+u.current[1]),B=F.get().scale,U=N/B,K=$/B,Q=U*V-N,z=K*V-$;return u.current[0]-=Q,u.current[1]-=z,P(),{scale:V,x:u.current[0],y:u.current[1]}}}})}const L=ou({onDrag({last:S,active:A,movement:[T,F],cancel:V,swipe:N,pinching:$}){if($){V();return}c.current===null?c.current=sl(T,F):c.current==="startSlide"&&(Math.abs(T)>16||Math.abs(F)>16)&&(c.current="slide");let B=i;switch(c.current){case"startSlide":case"slide":N[0]!==0?(B=Ae(i-N[0],0,e.length-1),s(B)):S&&Math.abs(T)>l/2&&(B=Ae(i+(T>0?-1:1),0,e.length-1),s(B));break;case"dismiss":if(S&&F>0&&F/f>.1){_();return}else g.start({backgroundColor:`rgba(0, 0, 0, ${Math.max(0,1-Math.abs(F)/f*2)})`});break}w.start(U=>{const K=c.current==="startSlide"||c.current==="slide"?1:0;if(U<B-K||U>B+K)return{display:"none"};const Q=Zt(U,B,l)+(A?T:0);switch(c.current){case"startSlide":case"slide":return{h:Q,y:0,display:"flex",immediate:A};case"dismiss":const z=A?F:0,ye=A?Math.max(1-Math.abs(F)/f/2,.8):1;return{h:Q,y:z,scale:ye,display:"flex",immediate:A};case"pinch":return{x:u.current[0]+T,y:u.current[1]+F,display:"flex",immediate:A}}}),S&&(c.current==="pinch"?u.current=[u.current[0]+T,u.current[1]+F]:c.current=null,g.start({backgroundColor:"rgba(0, 0, 0, 1)"}))},onPinch({origin:[S,A],first:T,last:F,offset:[V],memo:N,cancel:$}){if(c.current!==null&&c.current!=="startSlide"&&c.current!=="pinch"){$();return}if(c.current!=="pinch"&&P(),T||!N){const z=S-(l/2+u.current[0]),ye=A-(f/2+u.current[1]);N={origin:{x:S,y:A},offset:{refX:z/V,refY:ye/V,x:z,y:ye}}}const B=N.offset.refX*V-N.offset.x,U=N.offset.refY*V-N.offset.y,K=S-N.origin.x-B,Q=A-N.origin.y-U;return w.start(z=>{if(z===i)return F&&V<=1.1?{x:0,y:0,scale:1}:{h:0,scale:V,x:u.current[0]+K,y:u.current[1]+Q,immediate:!0}}),F&&(V<=1.1?O():u.current=[u.current[0]+K,u.current[1]+Q]),N}},{drag:{enabled:!o},pinch:{enabled:!o,scaleBounds:{min:1,max:1/0},from:()=>[w.current[i].get().scale,0]}}),ie=h.useCallback(()=>{if(i>=e.length)return;const[,S]=e[i];if(S&&il(S))return S.data},[e,i]);return x.createElement(Xc,{autoFocus:!0,returnFocus:!0},x.createElement(Bu,null,x.createElement(de.div,{role:"dialog","aria-label":"image viewer",style:{...Zc,...b,pointerEvents:o?"none":"auto"},onDoubleClick:W},y.map(({h:S,x:A,y:T,scale:F,opacity:V,display:N},$)=>{var B;return x.createElement(de.div,{...L(),key:$,style:{...Jc,display:N,x:S}},x.createElement("picture",null,Object.entries(((B=e[$][1])==null?void 0:B.sources)??{}).map(([U,K])=>x.createElement("source",{key:U,type:U,srcSet:K})),x.createElement(de.img,{style:{...el,x:A,y:T,scale:F,opacity:V},loading:Math.abs(i-$)>1?"lazy":"eager",src:e[$][0],draggable:!1})))})),x.createElement(de.div,{style:{...d,position:"fixed",top:0,left:0,width:0,height:0,zIndex:9999}},r?r({current:ie,close:_,previous:i>0?I:void 0,next:i<e.length-1?E:void 0}):x.createElement(de.button,{"aria-label":"close image viewer",style:{...Xt,width:40,top:16,right:16},onClick:_},x.createElement(tl,null)),!r&&i>0&&x.createElement(de.button,{"aria-label":"previous image",style:{...Xt,top:"50%",width:24,left:16,marginTop:-20},onClick:I},x.createElement(nl,null)),!r&&i<e.length-1&&x.createElement(de.button,{"aria-label":"next image",style:{...Xt,top:"50%",width:24,right:16,marginTop:-20},onClick:E},x.createElement(rl,null)))))}function il(e){return"data"in e}function sl(e,t){return e===0&&t===0?null:t>0&&t>Math.abs(e)?"dismiss":"startSlide"}function Ae(e,t,n){return n<0?0:e<t?t:e>n?n:e}function Zt(e,t,n){return(e-t)*(n+32)}export{ul as default};
